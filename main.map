{"version":3,"file":"/Users/gsoed/proj/protoboard/lib/spies/main.js","sources":["@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/4","/Users/gsoed/proj/protoboard/lib/spies/src/matcher/matcher.js","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/1","/Users/gsoed/proj/protoboard/lib/spies/src/matcher/any.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","/Users/gsoed/proj/protoboard/lib/spies/src/matcher/isa.js","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","/Users/gsoed/proj/protoboard/lib/spies/src/matcher/matchers.js","@traceur/generated/TemplateParser/11","/Users/gsoed/proj/protoboard/lib/spies/src/spiedfn.js","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","/Users/gsoed/proj/protoboard/lib/spies/src/utils.js","@traceur/generated/TemplateParser/14","/Users/gsoed/proj/protoboard/lib/spies/src/spies.js","/Users/gsoed/proj/protoboard/lib/spies/src/main.js"],"names":[],"mappings":";;AAAA,AAAI,IAAA,CAAA,YAAW,wBAAoB,CAAC;ACApC,AAAI,IAAA,UCGW,SAAM,QAAM,CAKd,AAAC,CAAE;AACZ,OAAG,aAAa,EAAI,GAAC,CAAC;EACxB,ADVsC,CAAA;AEAxC,EAAC,eAAc,YAAY,CAAC,AAAC,WDiB3B,kBAAiB,CAAjB,UAAmB,GAAE,CAAG;AACtB,SAAI,IAAG,QAAQ,AAAC,CAAC,GAAE,CAAC,CAAG;AACrB,WAAG,aAAa,KAAK,AAAC,CAAC,GAAE,CAAC,CAAC;AAC3B,aAAO,KAAG,CAAC;MACb;AAAA,AAEA,WAAO,MAAI,CAAC;IACd,MCxBmF;ACArF,AAAI,IAAA,CAAA,UAAS,UAAoB,CAAA;AFyBhC,EAAA;AAED,KAAI,MAAK,UAAU,CAAG;AACpB,OAAI,CAAC,MAAK,MAAM,CAAG;AACjB,WAAK,MAAM,EAAI,GAAC,CAAC;IACnB;AAAA,AAEA,SAAK,MAAM,QAAQ,EAAI,QAAM,CAAC;EAChC;AAAA,AGjCA,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,oBAAoB,CAAC;IOA7B,QAAM;ANAb,AAAI,IAAA,MMMW,SAAM,IAAE,CACV,AAAC,CAAE;AACZ,ACRJ,kBAAc,UAAU,AAAC,yCAC2B,CDOzC;EACT,ANTsC,CAAA;AQAxC,AAAI,IAAA,WAAoC,CAAA;ACAxC,EAAC,eAAc,YAAY,CAAC,AAAC,OHc3B,OAAM,CAAN,UAAO,AAAC,CAAE;AACR,WAAO,KAAG,CAAC;IACb,MAV+B,QAAM,CGLiB;ANDxD,AAAI,IAAA,CAAA,UAAS,MAAoB,CAAA;ACAjC,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,oBAAoB,CAAC;IWA7B,QAAM;AVAb,AAAI,IAAA,MUKW,SAAM,IAAE,CAOT,YAAW,CAAG;AACxB,AHbJ,kBAAc,UAAU,AAAC,yCAC2B,CGYzC;AACP,OAAG,aAAa,EAAI,aAAW,CAAC;EAClC,AVfsC,CAAA;AQAxC,AAAI,IAAA,WAAoC,CAAA;ACAxC,EAAC,eAAc,YAAY,CAAC,AAAC,OCoB3B,OAAM,CAAN,UAAQ,GAAE;AACR,SAAI,IAAG,aAAa,WAAa,SAAO,CAAG;AACzC,aAAO,CAAA,GAAE,WAAa,CAAA,IAAG,aAAa,CAAC;MACzC,KAAO;AACL,aAAO,CCxBb,CAAC,MDwBmB,IAAE,CCxBE,GAAM,YAAU,CAAA,CAC9B,YAAU,ECDpB,CAAA,eAAc,OAAO,AAAC,CFwBF,GAAE,CCvBkB,ACDA,CDCC,IDuBb,CAAA,IAAG,aAAa,CAAC;MACzC;AAAA,IACF,MArB+B,QAAM,CDJiB;ANDxD,AAAI,IAAA,CAAA,UAAS,MAAoB,CAAA;ACAjC,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,yBAAoB,CAAC;IcA7B,IAAE;IACF,IAAE;AAET,AAAI,IAAA,CAAA,QAAO,EAAI;AAKb,MAAE,CAAF,UAAI,YAAW,CAAG;AAChB,WAAO,IAAI,IAAE,AAAC,CAAC,YAAW,CAAC,CAAC;IAC9B;AAKA,MAAE,CAAF,UAAG,AAAC,CAAE;AACJ,WAAO,IAAI,IAAE,AAAC,EAAC,CAAC;IAClB;AAAA,EACF,CAAC;AClBD,AAAI,IAAA,CAAA,UAAS,EDoBE,SAAO,ACpBW,CAAA;ADsBjC,KAAI,CAAC,MAAK,MAAM,CAAG;AACjB,SAAK,MAAM,EAAI,GAAC,CAAC;EACnB;AAAA,AAEA,OAAK,MAAM,SAAS,EAAI,SAAO,CAAC;AT1BhC,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,gBAAoB,CAAC;AgBCpC,AAAI,IAAA,CAAA,MAAK,EAAI,CAAA,MAAK,AAAC,EAAC,CAAC;AACrB,AAAI,IAAA,CAAA,KAAI,EAAI,CAAA,MAAK,AAAC,EAAC,CAAC;AACpB,AAAI,IAAA,CAAA,OAAM,EAAI,CAAA,MAAK,AAAC,EAAC,CAAC;AACtB,AAAI,IAAA,CAAA,QAAO,EAAI,CAAA,MAAK,AAAC,EAAC,CAAC;AfJvB,AAAI,IAAA,UeSW,SAAM,QAAM,CAQb,KAAI,CAAG,CAAA,IAAG,CAAG,CAAA,YAAW;AAClC,AAAI,MAAA,CAAA,MAAK,EClBb,CDkBiB,KAAI,CClBH,eAAc,WAAW,AAAC,CDkBrB,IAAG,CClBoC,CDkBnC,AClBoC,CDkBnC;AAExB,AAAI,MAAA,CAAA,CAAA,EAAI,UAAS,AAAM;AEnBf,UAAS,GAAA,OAAoB,GAAC;AAAG,eAAoB,EAAA,CAChD,OAAoB,CAAA,SAAQ,OAAO,CAAG,OAAkB;AAC3D,ADHd,YAAkB,eAAc,WAAW,AAAC,MAAkB,CAAC,EAA/D,CCGqD,SAAQ,CDH3C,eAAc,WAAW,AAAC,MAAkB,CCGkB,ADHjB,CCGkB;AFkB3E,AElB2E,MFkB3E,OAAO,AAAC,CAAC,IAAG,CAAC,CAAC;AACd,SAAI,YAAW,CAAG;AAChB,aAAO,CAAA,MAAK,MAAM,AAAC,CAAC,IAAG,CAAG,KAAG,CAAC,CAAC;MACjC;AAAA,AACA,WAAO,UAAQ,CAAC;IAClB,CAAC;AACD,IAAA,UAAU,EAAI,mBAAgB,CAAC;AAC/B,IAAA,YAAY,WAAU,CAAC;AACvB,IAAA,CC7Bc,eAAc,WAAW,AAAC,CD6BtC,MAAK,CC7BmD,CAAC,ED6B/C,MAAI,CAAC;AACjB,IAAA,CC9Bc,eAAc,WAAW,AAAC,CD8BtC,KAAI,CC9BoD,CAAC,ED8BhD,KAAG,CAAC;AACf,IAAA,CC/Bc,eAAc,WAAW,AAAC,CD+BtC,OAAM,CC/BkD,CAAC,ED+B9C,OAAK,CAAC;AACnB,IAAA,QAAQ,EAAI,GAAC,CAAC;AAGd,QAAI,CCnCU,eAAc,WAAW,AAAC,CDmClC,IAAG,CCnCiD,CAAC,EDmC7C,EAAA,CAAC;AAEf,SAAO,EAAA,CAAC;EAiBZ,AftDwC,CAAA;AQAxC,AAAI,IAAA,mBAAoC,CAAA;ACAxC,EAAC,eAAc,YAAY,CAAC,AAAC;AM2C3B,UAAM,CAAN,UAAO,AAAC;AACN,SAAG,CC5CW,eAAc,WAAW,AAAC,CD4CnC,MAAK,CC5CgD,CAAC,CAA7C,eAAc,WAAW,AAAC,CD4C3B,AC5CjB,ID4CoB,CC5CF,eAAc,WAAW,AAAC,CD4CtB,KAAI,CC5CoC,CAAC,CAAD,CAAC,EAA/D,CD4CgC,IAAG,CC5CjB,eAAc,WAAW,AAAC,CD4CP,OAAM,CC5CmB,CD4ClB,AC5CmB,CD4ClB;IAC3C;AAMA,SAAK,CAAL,UAAO,IAAG,CAAG;AACX,SAAG,QAAQ,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;IACzB;AAAA,OA5CmC,SAAO,CNRY;ANDxD,AAAI,IAAA,CAAA,UAAS,UAAoB,CAAA;AYwDjC,KAAI,MAAK,UAAU,CAAG;AACpB,OAAI,CAAC,MAAK,MAAM,CAAG;AACjB,WAAK,MAAM,EAAI,GAAC,CAAC;IACnB;AAAA,AAEA,SAAK,MAAM,QAAQ,EAAI,QAAM,CAAC;EAChC;AAAA,AX9DA,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,cAAoB,CAAC;ImBI7B,QAAM;AASN,SAAS,UAAQ,CAAE,IAAG,CAAG,CAAA,IAAG;AACjC,OAAI,IAAG,IAAM,KAAG,CAAG;AACjB,WAAO,KAAG,CAAC;IACb;AAAA,AAEA,OAAI,IAAG,WAAa,QAAM,CAAG;AAC3B,WAAO,CAAA,IAAG,mBAAmB,AAAC,CAAC,IAAG,CAAC,CAAC;IACtC;AAAA,AAEA,OAAI,IAAG,WAAa,QAAM,CAAG;AAC3B,WAAO,CAAA,IAAG,mBAAmB,AAAC,CAAC,IAAG,CAAC,CAAC;IACtC;AAAA,AAEA,OAAI,CAAC,CAAC,IAAG,WAAa,OAAK,CAAC,CAAA,EAAK,EAAC,CAAC,IAAG,WAAa,OAAK,CAAC,CAAG;AAC1D,WAAO,CAAA,IAAG,IAAM,KAAG,CAAC;IACtB;AAAA,AAEA,OAAI,IAAG,WAAa,MAAI,CAAA,EAAK,CAAA,IAAG,OAAO,IAAM,CAAA,IAAG,OAAO,CAAG;AACxD,WAAO,MAAI,CAAC;IACd;AAAA,AAEA,QAAS,GAAA,CAAA,GAAE,CAAA,EAAK,KAAG;AClCrB,SAAI,CAAC,eAAc,eAAe,AAAC,KAAkB,CDkC7B;AACpB,WAAI,CAAC,SAAQ,AAAC,CAAC,AFnCnB,IEmCsB,CFnCJ,eAAc,WAAW,AAAC,CEmCpB,GAAE,CFnCoC,CAAC,CAA/D,CEmC8B,IAAG,CFnCf,eAAc,WAAW,AAAC,CEmCT,GAAE,CFnCyB,CAAC,CEmCxB,CAAG;AACpC,eAAO,MAAI,CAAC;QACd;AAAA,MACF;AACA,ACvCsE,SDuC/D,KAAG,CAAC;EACb;AAEA,KAAI,MAAK,UAAU,CAAG;AACpB,OAAI,CAAC,MAAK,MAAM,CAAG;AACjB,WAAK,MAAM,EAAI,GAAC,CAAC;IACnB;AAAA,AAEA,SAAK,MAAM,MAAM,EAAI,EACnB,SAAQ,CAAR,UAAQ,CACV,CAAA;EACF;AAAA,AdlDA,SCAA,eAAwB;AAAE,sBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,cAAoB,CAAC;IqBA7B,QAAM;IACJ,UAAQ;AAEjB,AAAI,IAAA,CAAA,KAAI,EAAI;AASV,OAAG,CAAH,UAAK,IAAG,CAAG;AACT,WAAO,EACL,SAAQ,CAAG,CAAA,IAAG,UAAU,CAC1B,CAAC;IACH;AAYA,MAAE,CAAF,UAAI,KAAI,CAAG,CAAA,IAAG,AAAqB;QAAlB,aAAW,6CAAI,KAAG;AACjC,SAAI,IAAG,IAAM,UAAQ,CAAG;AAEtB,sBAAgB,MAAI;AD/B1B,aAAI,CAAC,eAAc,eAAe,AAAC,KAAkB,CC+BxB;AACrB,eAAI,KAAI,CJhCE,eAAc,WAAW,AAAC,CIgC1B,GAAE,CJhC0C,CAAC,WIgC7B,SAAO,CAAG;AAClC,iBAAG,IAAI,AAAC,CAAC,KAAI,CAAG,IAAE,CAAG,aAAW,CAAC,CAAC;YACpC,KAAO,KAAI,KAAI,CJlCL,eAAc,WAAW,AAAC,CIkCnB,GAAE,CJlCmC,CAAC,WIkCtB,OAAK,CAAG;AACvC,iBAAG,IAAI,AAAC,CAAC,AJnCnB,KImCuB,CJnCL,eAAc,WAAW,AAAC,CImCnB,GAAE,CJnCmC,CAAC,CImChC,UAAQ,CAAG,aAAW,CAAC,CAAC;YAC/C;AAAA,UACF;AAAA,ADrCkE,MCsCpE,KAAO;AAEL,UAAI,QAAM,AAAC,CAAC,KAAI,CAAG,KAAG,CAAG,aAAW,CAAC,CAAC;MACxC;AAAA,IACF;AAYA,cAAU,CAAV,UAAY,MAAK;AACf,AAAI,QAAA,CAAA,MAAK,EAAI,CAAA,MAAK,QAAQ,GAAK,GAAC,CAAC;AACjC,aAAO,SAAC,AAAM;AHvDN,YAAS,GAAA,OAAoB,GAAC;AAAG,iBAAoB,EAAA,CAChD,OAAoB,CAAA,SAAQ,OAAO,CAAG,OAAkB;AAC3D,ADHd,cAAkB,eAAc,WAAW,AAAC,MAAkB,CAAC,EAA/D,CCGqD,SAAQ,CDH3C,eAAc,WAAW,AAAC,MAAkB,CCGkB,ADHjB,CCGkB;AGsDvE,AHtDuE,UGsDvE,CAAA,WAAU,EAAI,CAAA,MAAK,OAAO,AAAC,EAAC,SAAA,YAAW,CAAK;AAC9C,eAAO,CAAA,SAAQ,AAAC,CAAC,YAAW,CAAG,KAAG,CAAC,CAAC;QACtC,EAAC,CAAC;AACF,aAAO,CAAA,WAAU,OAAO,CAAC;MAC3B,EAAC;IACH;AAQA,QAAI,CAAJ,UAAM,MAAK;AACT,SAAI,MAAK,WAAa,QAAM,CAAG;AAC7B,aAAK,QAAQ,AAAC,EAAC,CAAC;MAClB,KAAO,KAAI,MAAK,WAAa,SAAO,CAAG,GAEvC,KAAO;AAEL,sBAAgB,OAAK;AD7E3B,aAAI,CAAC,eAAc,eAAe,AAAC,KAAkB,CC6EvB;AACtB,eAAG,MAAM,AAAC,CAAC,AJ9EnB,MI8EwB,CJ9EN,eAAc,WAAW,AAAC,CI8ElB,GAAE,CJ9EkC,CAAC,CI8EjC,CAAC;UACzB;AAAA,AD/EkE,MCgFpE;AAAA,IACF;EACF,CAAC;ANlFD,AAAI,IAAA,CAAA,UAAS,EMoFE,MAAI,ANpFc,CAAA;AMsFjC,KAAI,CAAC,MAAK,MAAM,CAAG;AACjB,SAAK,MAAM,EAAI,GAAC,CAAC;EACnB;AAAA,AACA,OAAK,MAAM,MAAM,EAAI,MAAI,CAAC;AhBzF1B,SCAA,aAAwB;AAAE,uBAAwB;IAAE,EDA7B;;;;ALAvB,AAAI,IAAA,CAAA,YAAW,aAAoB,CAAC;IsBA7B,MAAI;IACJ,SAAO;AjBDd,WAAuB","sourceRoot":"/Users/gsoed/proj/protoboard/lib/spies/","sourcesContent":["var __moduleName = $__placeholder__0;","var $__placeholder__0 = $__placeholder__1","/**\n * @class Represents a matcher used for dynamically matches arguments.\n */\nexport default class Matcher {\n\n  /**\n   * @constructor\n   */\n  constructor() {\n    this.matchingArgs = [];\n  }\n\n  /**\n   * Checks if the given argument matches the matcher. If so, records the invocation.\n   * @param  {Object=} arg The argument to be checked.\n   * @return {boolean} True iff the given argument is a match.\n   */\n  registerInvocation(arg) {\n    if (this.matches(arg)) {\n      this.matchingArgs.push(arg);\n      return true;\n    }\n\n    return false;\n  }\n};\n\nif (window.TEST_MODE) {\n  if (!window.spies) {\n    window.spies = {};\n  }\n\n  window.spies.Matcher = Matcher;\n}","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","var $__default = $__placeholder__0","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","import Matcher from 'src/matcher/matcher';\n\n/**\n * @class Matches anything.\n */\n\nexport default class Any extends Matcher {\n  constructor() {\n    super();\n  }\n\n  /**\n   * @return {boolean} True. Always.\n   */\n  matches() {\n    return true;\n  }\n}","$traceurRuntime.superCall($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                   $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","import Matcher from 'src/matcher/matcher';\n\n/**\n * @class Matches arguments that is the instance of the given ctor, or has the expected type.\n */\nexport default class IsA extends Matcher {\n\n  /**\n   * @param {Function|string} expectedType If function, this will check if the argument is an instance of\n   *     it. If a string, this will check if typeof argument is the specified string.\n   * @constructor\n   */\n  constructor(expectedType) {\n    super();\n    this.expectedType = expectedType;\n  }\n\n  /**\n   * @return {boolean} True iff the given argument is an instance of the constructor.\n   */\n  matches(arg) {\n    if (this.expectedType instanceof Function) {\n      return arg instanceof this.expectedType;\n    } else {\n      return typeof arg === this.expectedType;\n    }\n  }\n}","(typeof $__placeholder__0 === 'undefined' ?\n          'undefined' : $__placeholder__1)","$traceurRuntime.typeof($__placeholder__0)","import IsA from 'src/matcher/isa';\nimport Any from 'src/matcher/any';\n\nvar Matchers = {\n\n  /**\n   * @see  src/matcher/isa\n   */\n  isA(expectedType) {\n    return new IsA(expectedType);\n  },\n\n  /**\n   * @see  src/matcher/any\n   */\n  any() {\n    return new Any();\n  }\n};\n\nexport default Matchers;\n\nif (!window.spies) {\n  window.spies = {};\n}\n\nwindow.spies.Matchers = Matchers;","var $__default = $__placeholder__0","// symbols\nvar _scope = Symbol();\nvar _name = Symbol();\nvar _origFn = Symbol();\nvar _records = Symbol();\n\n/**\n * @class Represents a function that is spied.\n */\nexport default class SpiedFn extends Function {\n\n  /**\n   * @param {!Object} scope The scope that the function is in.\n   * @param {string} name The name of the function that is spied.\n   * @param {boolean} callOriginal True iff the original should be called.\n   * @constructor\n   */\n  constructor(scope, name, callOriginal) {\n    let origFn = scope[name];\n\n    var f = function(...args) {\n      f.record(args);\n      if (callOriginal) {\n        return origFn.apply(this, args);\n      }\n      return undefined;\n    };\n    f.__proto__ = SpiedFn.prototype;\n    f.constructor = SpiedFn;\n    f[_scope] = scope;\n    f[_name] = name;\n    f[_origFn] = origFn;\n    f.records = [];\n\n    // Override the original function.\n    scope[name] = f;\n\n    return f;\n  }\n\n  /**\n   * Restores the spied function.\n   */\n  restore() {\n    this[_scope][this[_name]] = this[_origFn];\n  }\n\n  /**\n   * Records a function call.\n   * @param {Array.<*>} args Array containing arguments to the function call.\n   */\n  record(args) {\n    this.records.push(args);\n  }\n}\n\nif (window.TEST_MODE) {\n  if (!window.spies) {\n    window.spies = {};\n  }\n\n  window.spies.SpiedFn = SpiedFn;\n}\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]","\n            for (var $__placeholder__0 = [], $__placeholder__1 = 0;\n                 $__placeholder__2 < arguments.length; $__placeholder__3++)\n              $__placeholder__4[$__placeholder__5] = arguments[$__placeholder__6];","/**\n * Contains various utility functions.\n */\n\nimport Matcher from 'src/matcher/matcher';\n\n/**\n * Deep equals the two objects.\n * \n * @param  {*} obj1 The first object to compare.\n * @param  {*} obj2 The second object to compare.\n * @return {boolean} True iff the two objects are deeply equal.\n */\nexport function deepEqual(obj1, obj2) {\n  if (obj1 === obj2) {\n    return true;\n  }\n\n  if (obj1 instanceof Matcher) {\n    return obj1.registerInvocation(obj2);\n  }\n\n  if (obj2 instanceof Matcher) {\n    return obj2.registerInvocation(obj1);\n  }\n\n  if (!(obj1 instanceof Object) || !(obj2 instanceof Object)) {\n    return obj1 === obj2;\n  }\n\n  if (obj1 instanceof Array && obj1.length !== obj2.length) {\n    return false;\n  }\n\n  for (var key in obj1) {\n    if (!deepEqual(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nif (window.TEST_MODE) {\n  if (!window.spies) {\n    window.spies = {};\n  }\n\n  window.spies.Utils = {\n    deepEqual\n  }\n}","if (!$traceurRuntime.isSymbolString($__placeholder__0)) $__placeholder__1","import SpiedFn from 'src/spiedfn';\nimport { deepEqual } from 'src/utils';\n\nvar Spies = {\n\n  /**\n   * Creates a stub for the given constructor.\n   *\n   * @param  {!Function} ctor The constructor to be stubbed.\n   * \n   * @return {!Object} The stub object.\n   */\n  stub(ctor) {\n    return {\n      __proto__: ctor.prototype\n    };\n  },\n\n  /**\n   * Spies the given function, or recursively all functions in the given object.\n   *\n   * @param {!Object} scope The Object to be spied on, or the object containing the function to \n   *     be spied on. \n   * @param {string=} name The name of the function to be spied on. If not specified, this will\n   *     spy all functions in the scope recursively.\n   * @param {boolean=} callOriginal True iff the original function should be called. Defaults to \n   *     true.\n   */\n  spy(scope, name, callOriginal = true) {\n    if (name === undefined) {\n      // We are spying on an object.\n      for (let key in scope) {\n        if (scope[key] instanceof Function) {\n          this.spy(scope, key, callOriginal);\n        } else if (scope[key] instanceof Object) {\n          this.spy(scope[key], undefined, callOriginal);\n        }\n      }\n    } else {\n      // We are spying on a function\n      new SpiedFn(scope, name, callOriginal);\n    }\n  },\n\n  /**\n   * Returns a function that returns the call count of the given target when called with the given\n   * arguments. For example: Spies.callCountOf(fn)(1, 2) returns the number of calls that function\n   * fn was called with arguments (1, 2).\n   *\n   * If the passed in function is not a spy, this will return 0.\n   * \n   * @param {!Function} target The function whose call count should be returned.\n   * @return {!Function} Function that returns the call counts of the given function.\n   */\n  callCountOf(target) {\n    let record = target.records || [];\n    return (...args) => {\n      let invocations = record.filter(recordedArgs => {\n        return deepEqual(recordedArgs, args);\n      });\n      return invocations.length;\n    };\n  },\n\n  /**\n   * Restores the given function or recursively all functions in the given object to its original\n   * implementation and removes all records related to it.\n   *\n   * @param  {Function} target The function or object to be reset.\n   */\n  reset(target) {\n    if (target instanceof SpiedFn) {\n      target.restore();\n    } else if (target instanceof Function) {\n      // Do nothing, this is an unspied function.\n    } else {\n      // Go through every member of the object and resets it.\n      for (let key in target) {\n        this.reset(target[key]);\n      }\n    }\n  }\n};\n\nexport default Spies;\n\nif (!window.spies) {\n  window.spies = {};\n}\nwindow.spies.Spies = Spies;\n","import Spies from 'src/spies';\nimport Matchers from 'src/matcher/matchers';"]}